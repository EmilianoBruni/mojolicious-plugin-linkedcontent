mojolicious-plugin-linkedcontent

This Mojolicious plugin provides five helpers: 

        require_reg
		require_js
        require_css
        include_js
        include_css

Which allows you to manage poading external stuff to page by demand.

Main idea is to load only required external content into html pages.
For example, you have following template system:

        @@ layouts/default.html.ep
        <!doctype html>
        <html>
        <head>
        <%== include_css 'main.css' %>
        </head>
        <body><%= content %></body>
        </html>

        @@ index.html.ep
        % layout 'default';
        % require_css 'ui.css', 'custom-that-requires-ui.css';
        Yea baby!

        @@ no-externals.html.ep
        % layout 'default';
        Clean page!

After render 'index.html.ep' you will see:

        <!doctype html>
        <html>
        <head>
        <link rel='stylesheet' type='text/css' media='screen' href='/css/main.css' />
        <link rel='stylesheet' type='text/css' media='screen' href='/css/ui.css' />
        <link rel='stylesheet' type='text/css' media='screen' href='/css/custom-that-requires-ui.css' />

        </head>
        <body>Yea baby!
        </body>
        </html>

But 'no-externals.html.ep' will give you only:

        <!doctype html>
        <html>
        <head>
        <link rel='stylesheet' type='text/css' media='screen' href='/css/main.css' />

        </head>
        <body>Clean page!
        </body>
        </html>

Using LinkedContent plugin you can easy define default set of css/js resources and append required files
from your templates (even included), actions, plugins, whatever else.

Each resource will be included only once.

You can also create a configuration file like this

my $cdn = '//cdnjs.cloudflare.com/ajax/libs';
{ linkedcontent => 
{
    jquery =>       {
                        js => ["$cdn/jquery/2.2.4/jquery.min"]
                    },
    bootstrap =>    {   
                        js => ["$cdn/twitter-bootstrap/3.3.6/js/bootstrap.min"],
                        css => [
                            "$cdn/twitter-bootstrap/3.3.6/css/bootstrap.min",
                            "$cdn/twitter-bootstrap/3.3.6/css/bootstrap-theme.min",

                        ],
                        deps => ['jquery']
                    },
	fullcalendar => {
                        js => [
                            "$cdn/fullcalendar/2.9.0/fullcalendar.min",
                            "$cdn/fullcalendar/2.9.0/lang/it",
                        ],
                        css => [
                            "$cdn/fullcalendar/2.9.0/fullcalendar",
                            { 
                                href => "$cdn/fullcalendar/2.9.0/fullcalendar.print",
                                media => "print"
                            }
                        ],      
                        deps => ['jquery']
                    },
}

and use 

% require_reg 'bootstrap';

to load, in one shoot, bootstrap javascript and css files and also jquery files automatically.

You can create your own conf files with your preferred CDN, libraries and dependences.

INSTALLATION

To install this module, run the following commands:

	perl Makefile.PL
	make
	make test
	make install

COPYRIGHT AND LICENCE

Copyright (C) 2010 - 2011, Yaroslav Korshak

This library is free software; you can redistribute it and/or modify
it under the same terms as Perl itself.
